<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üåø EcoScan SPb - –ö–∞—Ä—Ç–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –≤–æ–∑–¥—É—Ö–∞</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üåø</text></svg>">

  <style>
    #splash-screen {
      position: fixed;
      inset: 0;
      background: linear-gradient(135deg, #0f172a, #1e293b);
      z-index: 999999;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      transition: opacity 0.8s ease;
      opacity: 1;
    }

    #splash-screen.fade-out {
      opacity: 0;
      pointer-events: none;
    }

    .splash-content {
      text-align: center;
      padding: 2rem;
      max-width: 420px;
    }

    .splash-content img {
      width: 160px;
      height: 160px;
      object-fit: contain;
      margin-bottom: 1.6rem;
      border-radius: 24px;
      box-shadow: 0 10px 35px rgba(0,0,0,0.5);
    }

    .splash-content h2 {
      font-size: 2.4rem;
      margin: 0.2rem 0 0.7rem;
      font-weight: 700;
    }

    .splash-content p {
      font-size: 1.12rem;
      opacity: 0.9;
      margin: 0 0 2rem;
    }

    .progress-bar {
      width: 260px;
      height: 6px;
      background: rgba(255,255,255,0.2);
      border-radius: 3px;
      overflow: hidden;
      margin: 0 auto;
    }

    .progress {
      width: 0;
      height: 100%;
      background: linear-gradient(to right, #60a5fa, #3b82f6);
      animation: fill 7s linear forwards;
    }

    @keyframes fill {
      to { width: 100%; }
    }
  </style>
</head>
<body>

  <!-- Splash —ç–∫—Ä–∞–Ω 7 —Å–µ–∫—É–Ω–¥ -->
  <div id="splash-screen">
    <div class="splash-content">
      <img src="loading.gif" alt="–ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ–∑–¥—É—Ö–∞">
      <h2>EcoScan SPb</h2>
      <p>–°–æ–±–∏—Ä–∞–µ–º —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ –æ –∫–∞—á–µ—Å—Ç–≤–µ –≤–æ–∑–¥—É—Ö–∞ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞‚Ä¶</p>
      <div class="progress-bar">
        <div class="progress"></div>
      </div>
    </div>
  </div>

  <header>
    <div class="header-content">
      <div class="header-main">
        <h1>üåø EcoScan SPb</h1>
        <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –≤–æ–∑–¥—É—Ö–∞</p>
      </div>
      <div class="header-controls">
        <button id="refresh-btn" class="btn-primary">
          <span class="btn-icon">üîÑ</span>
          –û–±–Ω–æ–≤–∏—Ç—å
        </button>
        <div class="last-update">
          <span id="last-update-time">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
        </div>
      </div>
    </div>
  </header>

  <main>
    <div class="content-left">
      <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
      <div class="stats-panel">
        <h3>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥–æ—Ä–æ–¥—É</h3>
        <div class="stats-grid">
          <div class="stat-item">
            <div class="stat-value" id="avg-aqi">-</div>
            <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π AQI</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="best-district">-</div>
            <div class="stat-label">–õ—É—á—à–∏–π —Ä–∞–π–æ–Ω</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="worst-district">-</div>
            <div class="stat-label">–•—É–¥—à–∏–π —Ä–∞–π–æ–Ω</div>
          </div>
        </div>
      </div>

      <!-- –ö–∞—Ä—Ç–∞ -->
      <div class="map-container">
        <div id="map"></div>
        <div class="map-controls">
          <button id="zoom-in" class="map-btn">+</button>
          <button id="zoom-out" class="map-btn">‚àí</button>
          <button id="locate-btn" class="map-btn">üìç</button>
        </div>
      </div>
    </div>

    <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
    <div class="sidebar">
      <div id="info" class="info-panel hidden">
        <div class="panel-header">
          <h3>üìä –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
          <button id="close-info" style="position: absolute; top: 12px; right: 12px; background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer;">‚úï</button>
        </div>
        <div class="info-content">
          <div class="info-item">
            <strong>–†–∞–π–æ–Ω</strong>
            <span id="district-name">-</span>
          </div>
          <div class="info-item">
            <strong>–ò–Ω–¥–µ–∫—Å AQI</strong>
            <span id="air-quality-value">-</span>
          </div>
          <div class="quality-badge" id="quality-badge">
            <span class="badge-dot"></span>
            <span class="badge-text" id="quality-status">-</span>
          </div>
          <div class="info-item">
            <strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</strong>
            <span id="quality-description">-</span>
          </div>
          <div class="pollutants">
            <strong>–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≥—Ä—è–∑–Ω–∏—Ç–µ–ª–∏ (¬µg/m¬≥)</strong>
            <div class="pollutants-list">
              <div class="pollutant" id="pm25">PM2.5: ‚Äî</div>
              <div class="pollutant" id="pm10">PM10: ‚Äî</div>
              <div class="pollutant" id="no2">NO‚ÇÇ: ‚Äî</div>
              <div class="pollutant" id="o3">O‚ÇÉ: ‚Äî</div>
              <div class="pollutant" id="so2">SO‚ÇÇ: ‚Äî</div>
              <div class="pollutant" id="co">CO: ‚Äî</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç—ã -->
  <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>

  <script>
    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ splash-—ç–∫—Ä–∞–Ω–æ–º (7 —Å–µ–∫—É–Ω–¥)
    window.addEventListener('load', () => {
      const splash = document.getElementById('splash-screen');
      setTimeout(() => {
        splash.classList.add('fade-out');
        setTimeout(() => splash.remove(), 900);
      }, 7000);
    });
  </script>

  <script src="script.js"></script>
</body>
</html>